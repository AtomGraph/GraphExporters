<!doctype html>
<html lang="en">
	<head>
		<!-- Global site tag (gtag.js) - Google Analytics -->
		<script async src="https://www.googletagmanager.com/gtag/js?id=UA-38402002-6"></script>
		<script>
		  window.dataLayer = window.dataLayer || [];
		  function gtag(){dataLayer.push(arguments);}
		  gtag('js', new Date());

		  gtag('config', 'UA-38402002-6');
		</script>
		<script async defer src="https://buttons.github.io/buttons.js"></script>

		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
		<meta name="description" content="Graph Exporters is the quickest and cheapest way to extract RDF Knowledge Graph data from cloud services">
		<meta name="keywords" content="RDF, SPARQL, Linked Data, Knowledge Graph, graph, ETL, export, exporter, ChatGPT, GPT, LLM, RAG, LlamaIndex, LangChain, enterprise search, customer 360, Slack, GMail, JIRA">
		<meta name="author" content="AtomGraph">
		<meta name="twitter:title" content="Graph Exporters – The low-code Knowledge Graph exporters">
		<meta name="twitter:card" content="summary_large_image">
		<meta name="twitter:site" content="@atomgraphhq">
		<meta property="og:url" content="https://atomgraph.github.io/GraphExporters/">
		<meta property="og:title" content="Graph Exporters – The low-code Knowledge Graph exporters">
		<meta property="og:description" content="Graph Exporters is the quickest and cheapest way to extract RDF Knowledge Graph data from cloud services">
		<meta property="og:image" content="https://atomgraph.github.io/GraphExporters/img/og-image.png">
		<meta property="og:image:type" content="image/png">
		<meta property="og:image:width" content="679">
		<meta property="og:image:height" content="385">
		<meta property="og:site_name" content="Graph Exporters">

		<!-- schema.org metadata -->
		<script type="application/ld+json">
			{ "@context": "https://schema.org", "@type": "WebApplication", "name": "Graph Exporters", "description": "Knowledge Graph exporters", "url": "https://atomgraph.github.io/GraphExporters/", "applicationCategory": [ "Data integration", "ETL" ], "screenshot": "LDHChartMode.png", "keywords": [ "RDF", "SPARQL", "Linked Data", "Knowledge Graph", "graph", "ETL", "export", "exporter", "ChatGPT", "GPT", "LLM", "RAG", "LlamaIndex", "LangChain", "enterprise search", "customer 360", "Slack", "GMail", "JIRA" ] , "publisher": { "@type": "Organization", "name": "AtomGraph", "url": "https://atomgraph.com" } }
		</script>
		<!-- Bootstrap CSS -->
		<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
		<link href="https://fonts.googleapis.com/css?family=Rubik:300i,400,500" rel="stylesheet">
		<style type="text/css">
			body {
				font-family: "Rubik", "Helvetica Neue", "Helvetica", Helvetica, Arial, sans-serif;
				font-weight: 400;
				color: #04286E;
				text-rendering: optimizeLegibility;
				-webkit-font-smoothing: antialiased;
			}
			
			.jumbotron {
				background: linear-gradient(0deg, #04286E 0%, #182848 100%);
				/* background-image: url('img/cool-background.png'); */
				color: white;
			}
			
			.jumbotron h1 {
				/* text-shadow: 2px 2px 2px grey; */
			}
			
			h5.card-title {
				color: #EA607E;
			}
			
			.card {
				box-shadow: 0 8px 40px rgba(0, 0, 0, 0.2);
			}

			.table {
				color: #04286E;
				box-shadow: 0 8px 40px rgba(0, 0, 0, 0.2);
			}
			.table th {
				background-color: rgba(0,0,0,.03);
				font-weight: 500;
				font-size: 20px;
			}

			#github-button { background-image: url('img/GitHub_Logo_White.png'); background-position: center center; background-repeat: no-repeat; width: 100px; background-size: 80%; }
			#aws-marketplace-button { background-image: url('img/AWSMP_NewLogo_RGB_REV.svg'); background-position: center center; background-repeat: no-repeat; width: 200px; background-size: 80%; }
			.gh-button { margin-top: 5px; } /* GH button */
			.twitter-button { margin-top: 9px; margin-left: 9px; }

			.footer { margin-top: 4em; margin-bottom: 3em; }
		</style>
		<title>AtomGraph Graph Exporters</title>
	</head>

	<body>
		<nav class="navbar navbar-expand-lg navbar-light bg-light sticky-top">
			<a class="navbar-brand" href="..">Graph Exporters</a>
			<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
				<span class="navbar-toggler-icon"></span>
			</button>

			<div class="collapse navbar-collapse" id="navbarSupportedContent">
				<ul class="navbar-nav mr-auto">
					<li class="nav-item twitter-button">
						<a href="https://twitter.com/atomgraphhq?ref_src=twsrc%5Etfw" class="twitter-follow-button" data-show-count="false">Follow @atomgraphhq</a><script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
					</li>
				</ul>
			</div>
		</nav>

		<div class="container-fluid">
			<h1>Slack Graph Exporter</h1>

			<div class="row">
				<div class="col-md-12">
					<h2>Deployment using AWS CloudFormation</h2>
					<p>Click on <a href="https://console.aws.amazon.com/cloudformation/home#/stacks/quickcreate?templateURL=https://s3.amazonaws.com/com.atomgraph.octopus/OctopusStack.template.json&amp;stackName=SlackGraphExporter&amp;region=us-east-1" target="_blank">this link</a> to create a new CloudFormation stack.
					<p class="alert alert-warning">Currently only the <samp>us-east-1</samp> availability zone is supported.</p>
				</div>
			</div>

			<div class="row">
				<div class="col-md-12">
					<h3>Stack inputs</h3>
					<dl>
						<dt>NeptuneDBInstanceClass</dt>
						<dd>Neptune DB instance class (e.g. <samp>db.t3.medium</samp>)</dd>
						<dt>RDFBaseURI</dt>
						<dd>Base URI for the RDF data (has to end with <samp>/</samp>)</li>
						<dt>SlackAuthToken</dt>
						<dd>Slack auth token</dd>
					</dl>
				</div>
			</div>

			<div class="row">
				<div class="col-md-12">
					<h3>Stack outputs</h3>
					<dl>
						<dt>NeptuneSPARQLEndpointURL</dt>
						<dd>URL of the Neptune SPARQL endpoint</dd>
						<dt>RDFOutputBucket</dt>
						<dd>S3 bucket where RDF data will be written</dd>
					</dl>
				</div>
			</div>

			<div class="row">
				<div class="col-md-12">
					<h2>Data export</h2>
					<p>After the CloudFormation stack is deployed, follow these steps:</p>
					<ol>
						<li>Go to <samp>ECS → Cluster → SlackGraphExporter-FargateClusterXXXXXX → Tasks</samp></li>
						<li>Click the <button class="btn btn-primary">Run new task</button> button</li>
						<li>Under <samp>Deployment configuration</samp>, select <samp>SlackGraphExporterSlackTaskRunnerYYYYYY</samp> as the <samp>Family</samp></li>
						<li>Under <samp>Networking</samp>, select
							<ol>
								<li>VPC named <samp>SlackGraphExporter/OctopusVPC</samp></li>
								<li>Private subnet(s)</li>
								<li>The default VPC security group</li>
							</ol>
						</li>
						<li>Click <button class="btn btn-primary">Create</button> to create the task</li>
					</ol>
					<p>Resource names depend on your stack name; we have used <samp>SlackGraphExporter</samp> as an example.</p>
				</div>
			</div>

			<h2>Access Neptune from EC2</h2>
			<div class="row">
				<div class="col-md-12">
					<h3>Configure resources</h3>
					<p>Based on <a href="https://docs.aws.amazon.com/neptune/latest/userguide/get-started-connect-ec2-same-vpc.html" target="_blank">Connecting to a Neptune DB Cluster from an Amazon EC2 instance in the same VPC</a>.</p>
					<ol>
						<li>Make sure EC2 instance's network settings are correct</li>
							<ul>
								<li>VPC is <samp>SlackGraphExporter/OctopusVPC</samp></li>
								<li>Subnet is a public subnet such as <samp>SlackGraphExporter/OctopusVPC/PublicSubnet1</samp></li>
							</ul>
						<li>Change <samp>NeptuneSecurityGroup</samp>'s inbound rule on port 8182 to use EC2 instances security group as its <samp>Source</samp></li>
						<li>Create an IAM role for a Neptune client on EC2 that
							<ul>
								<li>has AWS-managed <samp>NeptuneFullAccess</samp> policy or better yet, a custom policy
									<pre>{
	"Version": "2012-10-17",
	"Statement": [
		{
			 "Effect": "Allow",
			 "Action": [
				 "neptune-db:*"
			 ],
			 "Resource": [
				 "*"
			 ]
		}
	]
}</pre>
								<li>has a <em>Trust relationship</em> that allows to assume the IAM user that has deployed the CloudFormation stack</li>
							</ul>
						</li>
					</ol>
				</div>
			</div>

			<div class="row">
				<div class="col-md-12">
					<h3>Query SPARQL endpoint</h3>
					<p>The following instructions were tested on a Ubuntu 22.04 EC2 instance.</p>
					<ol>
						<li><a href="https://docs.aws.amazon.com/cli/latest/userguide/getting-started-install.html" target="_blank">Install or update the latest version of the AWS CLI</a></li>
						<li>Configure AWS credentials
							<pre>sudo apt-get update &amp;&amp; \
sudo apt-get install unzip &amp;&amp; \
curl "https://awscli.amazonaws.com/awscli-exe-linux-x86_64.zip" -o "awscliv2.zip" &amp;&amp; \
unzip awscliv2.zip &amp;&amp; \
sudo ./aws/install &amp;&amp; \
aws configure</pre>
						</li>
						<li>Install <samp>awscurl</samp>
							<pre>sudo apt-get update &amp;&amp; \
sudo apt-get install python3-pip jq &amp;&amp; \
pip3 install awscurl &amp;&amp; \
export PATH="$PATH:/home/ubuntu/.local/bin"</pre>
						</li>
						<li>Execute the <a href="https://github.com/AtomGraph/GraphExporters/blob/main/ec2_neptune_query.sh" target="_blank"><samp>ec2_neptune_query.sh</samp></a> script which will
							<ul>
								<li>read the query string from <samp>stdin</samp></li>
								<li>use the 1st argument as the Neptune SPARQL endpoint</li>
								<li>use the 2nd argument as the ARN of Neptune client's role</li>
								<li>use the 3rd argument as Neptune's region</li>
							</ul>
						</li>
					</ol>
					<p>For example:</p>
					<pre>echo "ASK {}" | ./ec2_neptune_query.sh https://neptuneinstance-9yayusfky7oj.cnol6sn9sq5j.us-east-1.neptune.amazonaws.com:8182/sparql arn:aws:iam::580601482069:role/NeptuneClient us-east-1</pre>
				</div>
			</div>

			<div class="row">
				<div class="col-md-12">
					<h3>RDF output sample</h3>
					<pre>&lt;https://localhost/conversations/1614287609.001200&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;http://rdfs.org/sioc/ns#Post&gt; &lt;https://localhost/conversations/1614287609.001200&gt; .
&lt;https://localhost/conversations/1614287609.001200&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;http://xmlns.com/foaf/0.1/Document&gt; &lt;https://localhost/conversations/1614287609.001200&gt; .
&lt;https://localhost/conversations/1614287609.001200&gt; &lt;http://rdfs.org/sioc/ns#content&gt; "&lt;https://www.inc.com/christine-lagorio/jack-dangermond-esri-what-i-know-podcast.html&gt;" &lt;https://localhost/conversations/1614287609.001200&gt; .
&lt;https://localhost/conversations/1614287609.001200&gt; &lt;http://rdfs.org/sioc/ns#has_creator&gt; &lt;https://localhost/users/UBM1WAVD1&gt; &lt;https://localhost/conversations/1614287609.001200&gt; .
&lt;https://localhost/conversations/1614287609.001200&gt; &lt;http://rdfs.org/sioc/ns#id&gt; "1614287609.001200" &lt;https://localhost/conversations/1614287609.001200&gt; .
&lt;https://localhost/conversations/1614287609.001200&gt; &lt;http://purl.org/dc/terms/created&gt; "2021-02-25T21:13:29"^^&lt;http://www.w3.org/2001/XMLSchema#dateTime&gt; &lt;https://localhost/conversations/1614287609.001200&gt; .
&lt;https://localhost/conversations/1614287609.001200&gt; &lt;http://rdfs.org/sioc/ns#reply_of&gt; &lt;https://localhost/conversations/1614287327.000500&gt; &lt;https://localhost/conversations/1614287609.001200&gt; .
&lt;https://localhost/conversations/1614287609.001200&gt; &lt;http://rdfs.org/sioc/ns#content&gt; "&lt;https://www.esri.com/about/newsroom/blog/how-researchers-built-johns-hopkins-dashboard/&gt;" &lt;https://localhost/conversations/1614287609.001200&gt; .
&lt;https://localhost/conversations/1614287609.001200&gt; &lt;http://purl.org/dc/terms/title&gt; "COVID-19: Inside Look at the Johns Hopkins Dashboard, Keeping Tabs on the Virus" &lt;https://localhost/conversations/1614287609.001200&gt; .
&lt;https://localhost/conversations/1614287609.001200&gt; &lt;http://rdfs.org/sioc/ns#links_to&gt; &lt;https://www.esri.com/about/newsroom/blog/how-researchers-built-johns-hopkins-dashboard/&gt; &lt;https://localhost/conversations/1614287609.001200&gt; .
&lt;https://localhost/conversations/1614287609.001200&gt; &lt;http://rdfs.org/sioc/ns#content&gt; "Ensheng Dong, the architect of the Johns Hopkins COVID-19 dashboard, applied his knowledge of GIS to map and track the spread of the disease." &lt;https://localhost/conversations/1614287609.001200&gt; .</pre>
				</div>
			</div>
		</div>

		<p class="lead text-center footer">Developed by <a href="https://atomgraph.com"><img alt="AtomGraph" src="https://atomgraph.github.io/GraphExporters/img/atomgraph-logo-color.png" style="height: 2em"/> AtomGraph</a></p>

		<!-- Optional JavaScript -->
		<!-- jQuery first, then Popper.js, then Bootstrap JS -->
		<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
		<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
	</body>
</html>